üìò Specifiche Tecniche per Claude Code ‚Äì Progetto KitsDB (VERSIONE ESTESA)

1. Descrizione generale
KitsDB √® una web app per la catalogazione, gestione e visualizzazione di una collezione di maglie da calcio.
Lo scopo √® fornire un'interfaccia user-friendly, coerente con un design moderno e accessibile, per registrare, filtrare e consultare ogni maglia della collezione. 
L'app si rivolge esclusivamente a utenti ADMIN, con login sicuro, che gestiscono l'inserimento, modifica e visualizzazione delle maglie.

Problema risolto: gestione caotica e non standardizzata di collezioni fisiche. L‚Äôapp permette di creare un archivio strutturato, arricchito con immagini, QR code, metadati e anteprime visive personalizzate.

2. Funzionalit√† specifiche
‚Ä¢ Login/logout con sessione protetta
‚Ä¢ Lista maglie con ricerca testuale live e filtri su lookup table (brand, tipo, categoria, condizione)
‚Ä¢ Inserimento nuova maglia tramite form dinamico
‚Ä¢ Modifica maglia con precompilazione dei campi
‚Ä¢ Eliminazione maglia con conferma
‚Ä¢ Caricamento immagini con drag & drop o selezione file
‚Ä¢ Generazione anteprima SVG personalizzata: maglia + colori + numero
‚Ä¢ Autocomplete per squadra (campo libero ma suggerito live)
‚Ä¢ Gestione immagini con nome e tipo selezionabile
‚Ä¢ Visualizzazione logo squadra nella lista
‚Ä¢ Login protetto, controllo sessione e redirect se non autenticati

Flussi utente principali:
1. L‚Äôadmin effettua login tramite email e password.
2. Accede alla lista maglie, pu√≤ filtrare, cercare o aggiungere/modificare.
3. Nella pagina di inserimento/modifica pu√≤ compilare il form, caricare immagini, vedere la preview SVG live.
4. Salva o modifica la maglia ‚Üí torna alla lista.
5. Pu√≤ eliminare una maglia con conferma.
6. Pu√≤ effettuare logout.

3. Pagine e routing
‚Ä¢ /login.php ‚Üí login admin
‚Ä¢ /logout.php ‚Üí distrugge sessione
‚Ä¢ /kits_list.php ‚Üí elenco maglie con ricerca, filtri e preview
‚Ä¢ /kit_add.php ‚Üí inserimento maglia
‚Ä¢ /kit_edit.php?id=X ‚Üí modifica maglia esistente
‚Ä¢ /kit_delete.php?id=X ‚Üí eliminazione maglia
‚Ä¢ /preview/maglia.php?id=X ‚Üí SVG generato con colori e numero
‚Ä¢ /api/autocomplete.php ‚Üí restituisce squadre e giocatori suggeriti
‚Ä¢ /api/lookup.php ‚Üí restituisce brand, tipo, condizione, taglie, ecc.

4. Requisiti tecnici
‚Ä¢ Stack: PHP + MySQL
‚Ä¢ Hosting: Netsons
‚Ä¢ Autenticazione: gestita via sessione PHP, password criptata (password_hash)
‚Ä¢ DB gi√† esistente, tabella principale `kit`, tabelle di lookup per tutte le opzioni
‚Ä¢ QR code e immagini gestiti da filesystem
‚Ä¢ Anteprime SVG generate dinamicamente da PHP
‚Ä¢ Nessuna API esterna necessaria al momento

5. Design System e UX

Palette colori (CSS Custom Properties):
--main-purple: #210B2C (sfondo e header)
--action-red: #DE3C4B (bottoni e link principali)
--highlight-yellow: #DCF763 (focus, validazione, box-shadow)
--gray-100: #F5F5F5 (background secondari)
--gray-600: #4A4A4A (testi secondari)
--white: #FFFFFF
--black: #000000

Tipografia:
‚Ä¢ Titoli: "Playfair Display", serif
‚Ä¢ Contenuti e form: "Inter", sans-serif

Spaziatura:
--space-xs: 0.5rem; --space-sm: 1rem; --space-md: 1.5rem; --space-lg: 2.5rem;
Layout a 12 colonne, responsive. Header fisso con titolo ‚ÄúKITSDB‚Äù a sinistra e logout a destra (solo se loggato).

Componenti UI:
‚Ä¢ Bottoni: rosso, testo bianco, border-radius .375rem
‚Ä¢ Input: bordo grigio, focus giallo (box-shadow)
‚Ä¢ Dropdown: per brand, tipo, categoria, condizione, colore
‚Ä¢ Taglie: rappresentate da bottoni cliccabili (es. [S] [M] [L] [XL])
‚Ä¢ Campo squadra: input testuale con suggerimenti live (autocomplete)
‚Ä¢ Caricamento immagini: drag&drop + click, preview, campo nome + tipo
‚Ä¢ Anteprima SVG generata in tempo reale accanto o sopra al form

6. Dettaglio gestione immagini
‚Ä¢ img_front, img_back, img_extra (nessuna obbligatoria)
‚Ä¢ Upload temporaneo in /upload_tmp/
‚Ä¢ Al salvataggio vengono spostate in /uploads/front|back|extra/
‚Ä¢ Nome file finale es: front_123.jpg
‚Ä¢ Ogni immagine pu√≤ avere un nome personalizzato e tipo associato (dropdown: match/web/store/altro)

7. Preview SVG dinamica
‚Ä¢ File PHP /preview/maglia.php?id=XYZ genera un SVG con:
    - Sagoma standard della maglietta
    - Colori primario, secondario e terziario (riempimento o pattern)
    - Numero (se presente), centrato, colore calcolato in automatico
‚Ä¢ Colore numero:
    - Se color1 √® scuro ‚Üí numero bianco
    - Se color1 √® chiaro ‚Üí numero nero
    - Altrimenti ‚Üí numero grigio (#888)
‚Ä¢ Anteprima visibile direttamente nella lista e nel form di editing

8. Login e sicurezza
‚Ä¢ login.php ‚Üí verifica credenziali con password_verify()
‚Ä¢ Sessione utente in $_SESSION['user_id']
‚Ä¢ Include auth.php su ogni pagina protetta
‚Ä¢ logout.php ‚Üí distruzione sessione + redirect
‚Ä¢ Tutti gli endpoint sono protetti

9. User stories sintetiche
‚Ä¢ Come admin, voglio filtrare per brand, categoria e tipo per trovare subito le maglie desiderate
‚Ä¢ Come admin, voglio vedere una preview dinamica della maglia anche senza immagini caricate
‚Ä¢ Come admin, voglio inserire maglie con colori personalizzati e numero visibile
‚Ä¢ Come admin, voglio caricare immagini facilmente e specificare il tipo
‚Ä¢ Come admin, voglio modificare rapidamente una maglia con i campi gi√† compilati
‚Ä¢ Come admin, voglio vedere una lista compatta con logo squadra, nome e preview visiva